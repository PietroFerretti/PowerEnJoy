\documentclass[english]{article}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{babel}
\usepackage[unicode=true,pdfusetitle,
 bookmarks=true,bookmarksnumbered=false,bookmarksopen=false,
 breaklinks=true,pdfborder={0 0 1},backref=false,colorlinks=false]
 {hyperref}
\usepackage{tabularx}
\usepackage{graphicx}
\graphicspath{{images/}}
\usepackage{svg}
\usepackage{float}
\usepackage{titling}
\renewcommand{\arraystretch}{1.4}
\newcommand{\code}[1]{\texttt{#1}}
\usepackage{array}

\pretitle{%
	\begin{center}
		\LARGE
		\includegraphics[width=250pt]{../other/Logo_blu.png}\\[\bigskipamount]~\\[\bigskipamount]
	}
\posttitle{\end{center}}

\begin{document}

\title{Politecnico di Milano\\
 A.A. 2016–2017 \\
Software Engineering 2: “PowerEnJoy” \\
\emph{Integration Test Plan Document}}

\author{Pietro Ferretti, Nicole Gervasoni, Danilo Labanca}
\date{January 15, 2017}
\maketitle

\newpage

\tableofcontents{}

\newpage

\section{Introduction}

\subsection{Revision History}

\subsection{Purpose and Scope}

\paragraph{}
The purpose of this document is to provide a complete description of the integration testing plans for PowerEnjoy. It will focus on testing the proper behavior of the software by checking the 
interoperability between its components.
It is intended for developers and for any team member involved in the testing process.
%TODO inserire outline dei contenuti?

\paragraph{}
The aim of this project is to specify in detail a new digital management software for PowerEnJoy, a car-sharing service that employs electric cars only.

\paragraph{}
PowerEnjoy will offer a very valuable service to its users, letting them borrow cars to drive around the city freely, as an alternative to their own vehicles and public transport.
Among the advantages of using PowerEnJoy we can note being able to find available cars in any place that is served by our system and having dedicated spots to park in (namely, PowerEnJoy's power grid stations).
Furthermore, thanks to the fact that all the cars that we provide are electrically powered, PowerEnJoy is also very environmentally friendly.

%\paragraph{}
%PowerEnJoy's users, after registering, will be able to reserve, unlock and drive the cars our system will provide. Users will be charged per minute until they park the car in a safe area and end the ride.
%Users will be able to park their car temporarily and use it again later, or end their ride remotely.
%
%Our system will incentivize virtuous behaviour by offering several discounts if certain conditions are met (like charging a car at a power grid station).

\subsection{List of Definitions and Abbreviations}

\subsubsection{Definitions}

\begin{itemize}
\item{\textit{Guest}: a person that is not registered to the system.}
\item{\textit{User}: a person that is registered to the system. Users can log in to the system with their email or username and their password. Their first name, last name, date of birth, driving license ID are stored in the database.}
\item{\textit{Safe area}: a location where the user can park and leave the car. Users can end their ride and park temporarily only in these locations. The set of safe areas is predefined by the system.}
\item{\textit{Power grid station}: a place where cars can be parked and plugged in. While a car is plugged in a power grid station its battery will be recharged. Power grid stations are by definition safe areas.}
\item{\textit{Available car}: a car that is currently not being used by any user, and has not been reserved either. Available cars are in good conditions (not dirty nor damaged) and don’t have dead batteries.}
\item{\textit{Reservation}:
	\begin{itemize}
		\item{the operation of making a car reserved for a user, i.e. giving permission to unlock and use the car only for that user, forbidding reservations by other users.}
		\item{the time period between the moment a reservation is requested and the moment the user unlocks the car, or the reservation is canceled.}
	\end{itemize}
}
\item{\textit{Ride}: the time period from the moment a reserved car is unlocked to the moment the user notifies that he wants to stop using the car and closes all the doors. A ride doesn’t stop when a car is temporarily parked, but continues until the user chooses to leave the car definitely.}
%\item{\textit{Possession}: users that have reserved and unlocked a car are said to have possession of the car. While a user has possession of a car they are the only person that can drive it, lock or unlock it, and no other person can take possession of it until the user frees it. Users lose possession of a car when their ride ends.}
\item{\textit{Temporary parking}: the act of parking a car in a safe area and, after notifying the system, locking it and leaving it for a finite amount of time. The user that does this retains the right to use the car and can unlock it later to use it again.}
\item{\textit{Bill}: a record of the money owed by the user at the end of a ride.}
\item{\textit{Outstanding bill}: a bill that hasn’t been paid yet. }
\item{\textit{Suspended user}: a user that cannot reserve or use cars. Usually users are suspended because they have outstanding bills.}
\item{\textit{Payment method}: a way to transfer money from the user to the system. Our system will only accept credit cards and online accounts like Paypal.}
\item{\textit{Payment API}: an interface to carry out money transactions, offered by the external provider associated to the payment method used (e.g. a bank).}
%\item{\textit{CAN bus}: a vehicle bus standard designed to allow micro controllers and devices to communicate with each other.}
\end{itemize}

\subsubsection{Acronyms}
\begin{itemize}
\item{\textbf{DD}: Design Document}
\item{\textbf{RASD}: Requirements Analysis and Specification Document}
\item{\textbf{DB}: Database}
%\item{\textbf{CVV}: Card Verification Value}
\item{\textbf{DOB}: Date of birth}
\item{\textbf{PGS}: Power Grid Station}
\item{\textbf{GPS}: Global Positioning System}
%\item{\textbf{CAN bus}: Controller Area Network bus}
\end{itemize}

\subsubsection{Abbreviations}
\begin{itemize}
\item{\textbf{[Gx]}: Goal}
\item{\textbf{[RE.x]}: Functional Requirement}
\item{\textbf{[UC.x]}: Use Case}
\end{itemize}

\subsection{List of Reference Documents}

\begin{itemize}
	\item{Requirements analysis and specification document: “RASD.pdf”}
	\item{Design document: “DD.pdf”}
	\item{Project description document: “Assignments AA 2016-2017.pdf”}
	%% io aggiungerei il documento di esempio
\end{itemize}

\section{Integration Strategy}

\subsection{Entry Criteria}

Before starting the integration testing phase specific conditions concerning the whole project development must be met.
First of all, it is fundamental that the Requirements Analysis and Specification Document and the Design Document have been properly written and completed.

%TODO aggiungere percentuali completamento?
Regarding the code development it is only needed that the \textbf{INSERIRE PERCENTUALI} has been written. Furthermore, each component has to be successfully unit tested before being involved in the integration testing.

%  ---ESEMPIO--- This is a required step in order to have a complete picture of the interactions between the diﬀerent components of the system and of the functionalities they oﬀer. Secondly, the integration process should start only when the estimated percentage of completion of every component with respect to its functionalities is: • 100% for the Data Access Utilities component • At least 90% for the Taxi Management System subsystem • At least 70% for the System Administration and Account Management subsystems • At least 50% for the client applications It should be noted that these percentages refer to the status of the project at the beginning of the integration testing phase and they do not represent the minimum completion percentage necessary to consider a component for integration, which must be at least 90%. The choice of having diﬀerent completion percentages for the diﬀerent components has been made to reﬂect their order of integration and to take into account the required time to fully perform integration testing.


\subsection{Elements to be Integrated}

As stated in the Design Document (paragraph 2.2), the system is based on the cooperation of two parts, the \emph{Application Subsystem}  and the \emph{Resource Management Subsystem}. The first handles all the operations related to the user applications and interfaces, while the second takes care of keeping track of all the automatic updates from the sensors in the cars and the charging stations.
The testing process will verify the correctness of the integration between these macro-components after checking the proper cooperation of smaller components inside each subsystem.
Furthermore, it will be tested the higher integration, client/server level, between
\begin{itemize}
\item the Web Application and the Application Subsystem
\item the Car Application and the Application Subsystem
\end{itemize}
Concerning the external APIs, we expect them to work properly so we will only check, by unit testing, that the components execute correctly the API call.


\paragraph{Application Subsystem}
Components to be tested:
\begin{enumerate}
\item Registration
\item Account Manager
\item Car Search
\item PGS Search
\item Safe Areas Search
\item Payment
\item Reservation Manager
\item Unlocking
\item Parking Ride Manager
\item Ride Manager
\item Report Manager
\item Request Dispatcher
\item Model
\end{enumerate}

It will be tested that the Request Dispatcher interacts with each component from 1 to 10 in the proper way and that these components cooperate as expected with the Model one. In addition, it will be tested the integration between the Model component and the DBMS.

\paragraph{Resource Management Subsystem}
Components to be tested:
\begin{enumerate}
\item Car Manager
\item PGS Manager
\item Car Handler
\end{enumerate}

It will be tested the cooperation between the Car Manager and the Car Handler components and between the PGS Manager and the DBMS.



\subsection{Integration Testing Strategy}
We believe that the most efficient way to test the integration between PowerEnjoy's software components is the \emph{bottom up approach}. Using this strategy, we will be able to test the cooperation between different units as soon as they are fully developed without waiting for the whole subsystem to be ready. This method will also highlight all the possible integration issues while the software is still under development, allowing quicker smaller fixes.
We will start the process from independent components which don't have any dependencies and we will built further integration test on the already  tested software.
As specified in the Design Document, several components of the Application Subsystem depend on the Resource Management Subsystem thus the testing phase will start in this subsystem.


\subsection{Sequence of Component / Function Integration}

in this section we will describe in which order the system components will be integrated and tested
diagrams will show the sequence more clearly
graphs
arrow = this component is a dependency of this other one
this component is necessary for the other one to work


\subsubsection{Software Integration Sequence}

to start with the in


\paragraph{Model}
\paragraph{}
%the first two elements to be integrated are the Model and the DBMS
why?
because the model is an integral part of the application subsystem
because we can’t start integration testing any application subsystem component until the model is done
immagine model-DBMS
\begin{figure}[H]
	\centering
	\makebox[\textwidth][c]{
		\includegraphics[scale=0.25]{seq1.png}
	}
\end{figure}

\textbf{Power Grid Stations Manager}
%at the same time we can integrate the pgs manager component with the dbms
why,  a function that is already complete: updating the plugs’ status
immagine pgs manager-DBMS
\begin{figure}[H]
	\centering
	\makebox[\textwidth][c]{
		\includegraphics[scale=0.25]{seq2.png}
	}
\end{figure}

\textbf{Car Handler}
the car handler keeps track of the cars in the system
the car handler issues commands to the cars
needs the cars
car internal system tested and ready
integrate the car handler with the car internal system
bottom-up approach
we need the car handler for the car manager, that is the foundation of many other functions
we will use a stub to simulate the car manager interface in case it is needed

immagine car handler-Car Internal System
\begin{figure}[H]
	\centering
	\makebox[\textwidth][c]{
		\includegraphics[scale=0.25]{seq3b.png}
	}
\end{figure}

\textbf{Car Manager}
we have the car handler, we have the dbms
we can integrate the car manager, bulk of the resource management subsystem
immagine car manager-car handler-dbms
\begin{figure}[H]
	\centering
	\makebox[\textwidth][c]{
		\includegraphics[scale=0.25]{seq4.png}
	}
\end{figure}

[poi car internal system-car manager]
after the car manager has been integration tested, we can test the interaction between the car internal system and the car manager interface, this time for real
immagine car-handler-car internal system -car manager
\begin{figure}[H]
	\centering
	\makebox[\textwidth][c]{
		\includegraphics[scale=0.25]{seq-internal-manager.png}
	}
\end{figure}

\textbf{Application Subsystem Components}
with resource subsystem stub
on the other side, done with the model, we can integrate all the single components of the application subsystem
can be done concurrently, they are independent from each other
some of them require interfacing to the resource subsystem, we will use a stub so these tests can be done at the same time as the ones in the resource subsystem
immagine componenti-model(-resource stub)


\begin{figure}[H]
	\centering
	\includegraphics[scale=0.25]{seq-application-1.png}
\end{figure}
\begin{figure}[H]
	\centering
	\makebox[\textwidth][c]{
		\includegraphics[scale=0.25]{seq-application-2.png}
	}
\end{figure}
\begin{figure}[H]
	\centering
	\makebox[\textwidth][c]{
		\includegraphics[scale=0.25]{seq-application-3.png}
	}
\end{figure}
\begin{figure}[H]
	\centering
	\makebox[\textwidth][c]{
		\includegraphics[scale=0.25]{seq-application-4.png}
	}
\end{figure}
\begin{figure}[H]
	\centering
	\makebox[\textwidth][c]{
		\includegraphics[scale=0.25]{seq-application-5.png}
	}
\end{figure}
\begin{figure}[H]
	\centering
	\makebox[\textwidth][c]{
		\includegraphics[scale=0.25]{seq-application-6.png}
	}
\end{figure}
\begin{figure}[H]
	\centering
	\makebox[\textwidth][c]{
		\includegraphics[scale=0.25]{seq-application-7.png}
	}
\end{figure}
\begin{figure}[H]
	\centering
	\makebox[\textwidth][c]{
		\includegraphics[scale=0.25]{seq-application-8.png}
	}
\end{figure}\begin{figure}[H]
\centering
\makebox[\textwidth][c]{
	\includegraphics[scale=0.25]{seq-application-9.png}
}
\end{figure}\begin{figure}[H]
\centering
\makebox[\textwidth][c]{
	\includegraphics[scale=0.25]{seq-application-10.png}
}
\end{figure}\begin{figure}[H]
\centering
\makebox[\textwidth][c]{
	\includegraphics[scale=0.25]{seq-application-11.png}
}
\end{figure}

\textbf{Request Dispatcher}
“thread testing”, “function something”?
when testing for one of the intermediate components has been done, we can test the corresponding application functionality integrating the request dispatcher
the request dispatcher is integrated with all the other components
immagine request dispatcher-componenti

\subsubsection{Subsystem Integration Sequence}
done with the previous integrations, we can integrate the application subsystem and the resource subsystem

\textbf{Application and Resource Subsystems Integration}
we put them together
immagine application-resource-dbms (interfaces)

\subsubsection{Client Applications Integration Sequence}
after we’re done with the central system, we can test if the clients work with it
immagine clients-application-resource-dbms (car internal system?)
oppure
immagine clients-application
immagine completa



\section{Individual Steps and Test Description}

\subsection{Resource Management Subsystem}

\subsubsection{Component 1 - Component 2}

%% se necessario possiamo usare longtable
\begin{center}
	\begin{tabular}{ | m{6cm} | m{6cm} | }
		\hline 
		\multicolumn{2}{|c|}{\textbf{method(arg1, arg2)}} \\
		\hline
		\multicolumn{1}{|c|}{\textit{Input}} & \multicolumn{1}{c|}{\textit{Result}} \\
		\hline
		input1 & result1 \\
		\hline
		input2 & result2 \\
		\hline
	\end{tabular}
\end{center}

\subsection{Application Subsystem}

\subsection{Integration between subsystems}

\section{Tools and Test Equipment Required}

\section{Program Stubs and Test Data Required}


\section{Effort Spent}
\begin{itemize}
	\item{Pietro Ferretti:  hours of work}
	\item{Nicole Gervasoni:  hours of work}
	\item{Danilo Labanca:  hours of work}
\end{itemize}


\section{Revisions}

\subsection{Changelog}
\begin{itemize}
	\item{ITDP v1.0, published on January 15, 2017}
\end{itemize}
\end{document}
