\documentclass[english]{article}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{babel}
\usepackage[unicode=true,pdfusetitle,
 bookmarks=true,bookmarksnumbered=false,bookmarksopen=false,
 breaklinks=true,pdfborder={0 0 1},backref=false,colorlinks=false]
 {hyperref}
\usepackage{tabularx}
\usepackage{graphicx}
\graphicspath{{images/}}
\usepackage{svg}
\usepackage{float}
\usepackage{titling}
\renewcommand{\arraystretch}{1.4}
\newcommand{\code}[1]{\texttt{#1}}
\usepackage{listings}
\usepackage{color}
\definecolor{javared}{rgb}{0.6,0,0} % for strings
\definecolor{javagreen}{rgb}{0.25,0.5,0.35} % comments
\definecolor{javapurple}{rgb}{0.5,0,0.35} % keywords
\definecolor{javadocblue}{rgb}{0.25,0.35,0.75} % javadoc

\lstset{language=Java,
	basicstyle=\ttfamily\small,
	xleftmargin=0cm,
	keywordstyle=\color{javapurple}\bfseries,
	stringstyle=\color{javared},
	commentstyle=\color{javagreen},
	morecomment=[s][\color{javadocblue}]{/**}{*/},
	numbers=left,
	numberstyle=\tiny\color{black},
	stepnumber=1,
	numbersep=10pt,
	tabsize=4,
	showspaces=false,
	showstringspaces=false,
	linewidth=13cm,
	breaklines=true
	}

\pretitle{%
	\begin{center}
		\LARGE
		\includegraphics[width=250pt]{../other/Logo_blu.png}\\[\bigskipamount]~\\[\bigskipamount]
	}
\posttitle{\end{center}}

\begin{document}

\title{Politecnico di Milano\\
 A.A. 2016–2017 \\
Software Engineering 2: “PowerEnJoy” \\
\emph{Code Inspection Document}}

\author{Pietro Ferretti, Nicole Gervasoni, Danilo Labanca}
\date{February 5, 2017}
\maketitle

\newpage

\tableofcontents{}

\newpage

\section{Assigned Class}
% <state the namespace pattern and name of the classes that were assigned to you.>
\paragraph{}
apache-ofbiz-16.11.01/framework/service/src/main/java/org/apache/ofbiz/service/job/JobManager.java

\section{Functional Role}% of assigned set of classes: <elaborate on the functional role you have identified for the class cluster that was assigned to you, also, elaborate on how you managed to understand this role and provide the necessary evidence, e.g., javadoc, diagrams, etc.>

\paragraph{Javadoc}

\begin{lstlisting}

/**
* Job manager. The job manager queues and manages jobs. Client code can queue a job to be run immediately
* by calling the runJob({@link #runJob(Job)}) method, or schedule a job to be run later by calling the
* {@link #schedule(String, String, String, Map, long, int, int, int, long, int)} method.
* Scheduled jobs are persisted in the JobSandbox entity.
* <p>A scheduled job's start time is an approximation - the actual start time will depend
* on the job manager/job poller configuration (poll interval) and the load on the server.
* Scheduled jobs might be rescheduled if the server is busy. Therefore, applications
* requiring a precise job start time should use a different mechanism to schedule the job.</p>
*/
\end{lstlisting}

\section{List of Issues} % found by applying the checklist: <report the classes/code fragments that do not fulfill some points in the check list. Explain which point is not fulfilled and why.>

\subsection{Naming Conventions}

\paragraph{1. Meaningful Names}
\paragraph{}
mi sembra che siano tutti buoni
% TODO guardare nome per nome e aggiungere quelli con nomi ingannevoli

\paragraph{2. One-character variables}

Ok.
There are no one-character variables.

\paragraph{3. Class names}
Ok.
Every class name is in mixed case and properly capitalized.

\paragraph{4. Interface names}
Ok.
No interfaces are declared.
(se ce ne sono) every interface used by the code is in mixed case and properly capitalized.

\paragraph{5. Method names}
Ok.
Every method name is a verb.
Every method name is camelCase and properly capitalized.

\paragraph{6. Class variables}
Ok.
Every class variable is in mixed case and properly capitalized.

\paragraph{7. Constants}
NO.
%https://stackoverflow.com/a/30789385
module and istanceId are immutable, so they can be considered constant. They should be capitalized.
registeredManagers is fine because it's mutable

\subsection{Indentation}
\paragraph{8. Number of spaces}
Ok.
The code is consistently indented with 4 spaces.

\paragraph{9. No tabs for indentation}
Ok.
No tabs are used to indent the code.

\subsection{Braces}
\paragraph{10. Consistent bracing style}
Ok.
The code is consistently braced following the \textit{"Kernighan and Ritchie"} style.

\paragraph{11. One-line statements bracing}
NO
"if" riga 326, 351, 354

\subsection{File Organization}
\paragraph{12. Blank lines as separation}
Ok.
Blank lines are present between each method, around imports and variable declarations.
Most of the methods also begin with a Javadoc.

\paragraph{13. Where practical, line length under 80 characters}
NOPE
righe 73, 74, 89, 126, 147, 150, 154, 156, 161, 182, 186-190, 195, 198, 201, 
A great number of lines exceed 80 characters

\paragraph{14. Line length always under 120 characters}
NEPPURE
righe 74, 186, 198, 217, 221, 222, 261-264, 273, 311, 315, 317, 387, 409, 429, 453, 498, 543, 560, 561
le dichiarazioni dei metodi sono lunghissime e wrappate poco

\subsection{Wrapping Lines}
\paragraph{15. Line breaks after commas and operators}
NO
riga 152, la virgola dovrebbe stare sopra % e chissenefrega

\paragraph{16. Higher-level breaks are used}
Ok.
Non ci sono line break con operatori

\paragraph{17. Statements are aligned to previous ones}
Ok.
Sì, per tutti

\subsection{Comments}

\subsection{Java Source Files}
\paragraph{20. Single public class or interface}
Ok.
Job manager is the only public class declared in the file.
There are no other classes.

\paragraph{21. The public class is the first class in the file}
Ok.
Job manager is the only public class declared in the file.
There are no other classes.

\paragraph{22. External program interfaces are consistent with the Javadoc}
%TODO


\paragraph{23. The Javadoc is complete}
NO.
\begin{itemize}
	\item No javadoc for 'module'! line 71
	\item No javadoc for 'instanceId'! line 71
	\item No javadoc for reloadCrashedJob!! line 304
	\item Missing @return tag on getInstance, line 88
	\item Missing @return tag on getDelegator, line 119
	\item Missing @return tag on getDispatcher, line 124
	\item Missing @param tag for 'limit' on poll, line 174
	\item Missing @return tag on poll, line 174
	\item Missing @param tag for 'job' on runJob, line 363
	\item Missing @throws tag for 'JobManagerException' on runJob, line 363
	\item Missing @throws tag for 'JobManagerException' on schedule, line 386, 408, 428, 453, 469, 498, 543
\end{itemize}

assertIsRunning, getRunPools sono private quindi non hanno necessariamente bisogno di javadoc

\subsection{Package and Import Statements}
\paragraph{24. Package statements are first, import statements second}
Ok.
One package statements.
All import statements immediately follow.

\subsection{Class and Interface Declarations}
\paragraph{25. The class declarations should follow a specific order}
- javadoc ok
- class declaration ok
- altri commenti -
- static variables 
- normal variables
- constructors
- methods

no, abbiamo variabili statiche, poi un po' di metodi statici, poi variabili normali, poi costruttori, setter e getter poi un metodo statico (ma private!!)
%TODO
credo che ci siano altri metodi prima del costruttore
also getInstance() è praticamente un costruttore, incapsula tutto

\paragraph{26. Methods are grouped by functionality}
%TODO
yes?

assertIsRunning
getInstance
shutDown

getDelegator
getDispatcher
getPoolState

isAvailable
getRunPools
pool
reloadCrashedJobs
runJob
schedule

\paragraph{27. The code is free of duplicates, long methods, big classes, breaking encapsulation, and coupling and cohesion are adequate}
small class
duplicates? no
short methods
no breaking encapsulation

%TODO coupling, cohesion????


\section{Other Problems} % you have highlighted: <list here all the parts
%of code that you think create or may create a bug and explain why.>


\section{Effort Spent}
\begin{itemize}
	\item{Pietro Ferretti:  hours of work}
	\item{Nicole Gervasoni:  hours of work}
	\item{Danilo Labanca:  hours of work}
\end{itemize}


\section{Revisions}

\subsection{Changelog}
\begin{itemize}
	\item{CID v1.0, published on February 5, 2017}
\end{itemize}
\end{document}
